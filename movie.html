{% extends "base.html" %}



{% block title %} {{ movie.title }} {% endblock %}

{% block body %}
    <script>
            //document.getElementById("watchedBtn").addEventListener("click", addToList());
            function addToWatched(){
                console.log("Working");
                //var button = document.getElementById('watchedBtn');

                var data = { "movie": '{{movie.imdbID}}', "listAdd" : 'watched'};
                var URL = "{% url 'movie' %}";
                $.post(URL, data);
            }
            function addToWatch(){
                console.log("Working");
                //var button = document.getElementById('watchedBtn');

                var data = { "movie": '{{movie.imdbID}}', "listAdd" : 'watch'};
                var URL = "{% url 'movie' %}";
                $.post(URL, data);
            }
     </script>


    <h1>{{ movie.title }}</h1>

    <button class="btn btn-default" id="toWatchBtn" onclick="addToWatch()">
        Add to my To Watch list
     </button>
     <button class="btn btn-success" id="watchedBtn" onclick="addToWatched()">
        Add to my Watched list
     </button>

    <img src="{{ movie.poster }}" alt="Poster" align="right">
    <dl>
        <dt> Year: </dt>
        <dd>{{ movie.year }} </dd>

        <dt> Rating: </dt>
        <dd>{{ movie.rated }}</dd>

        <dt> Runtime: </dt>
        <dd> {{ movie.runtime }} </dd>

        <dt> Genre/s: </dt>
        <dd> {{ movie.genre }}</dd>

        <dt> Director/s: </dt>
        <dd> {{ movie.director }}</dd>

        <dt> Writer/s: </dt>
        <dd> {{ movie.writer }}</dd>

        <dt> Actors: </dt>
        <dd> {{ movie.actors }}</dd>

        <dt> Plot Summary: </dt>
        <dd> {{ movie.plot }}</dd>
    </dl>



<div class="container">
    <div class="row" style="margin-top:40px;">
        <div class="col-md-6">
        <div class="well well-sm">
            <div class="text-right">
                <a class="btn btn-success btn-green" href="#reviews-anchor" id="open-review-box">Leave a Review</a>
            </div>
        
            <div class="row" id="post-review-box" style="display:none;">
                <div class="col-md-12">
                    <form accept-charset="UTF-8" action="" method="post">
                        <input id="ratings-hidden" name="rating" type="hidden"> 
                        <textarea class="form-control animated" cols="50" id="new-review" name="comment" placeholder="Enter your review here..." rows="5"></textarea>
        
                        <div class="text-right">
                            <div class="stars starrr" data-rating="0"></div>
                            <a class="btn btn-danger btn-sm" href="#" id="close-review-box" style="display:none; margin-right: 10px;">
                            <span class="glyphicon glyphicon-remove"></span>Cancel</a>
                            <button class="btn btn-success btn-lg" type="submit">Save</button>
                        </div>
                    </form>
                </div>
            </div>
        </div> 
         
        </div>
    </div>
</div>



<!-- http://www.jquery2dotnet.com/ -->
<div class="container">
    <div class="row">
        <div class="col-xs-12 col-md-6">
            <div class="well well-sm">
                <div class="row">
                    <div class="col-xs-12 col-md-6 text-center">
                        <h1 class="rating-num">
                            3.6</h1>
                      
                        <div>
                            <span class="glyphicon glyphicon-user"></span>5 total
                        </div>
                    </div>
                    <div class="col-xs-12 col-md-6">
                        <div class="row rating-desc">
                            <div class="col-xs-3 col-md-3 text-right">
                                <span class="glyphicon glyphicon-star"></span>5
                            </div>
                            <div class="col-xs-8 col-md-9">
                                <div class="progress progress-striped">
                                    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="20"
                                        aria-valuemin="0" aria-valuemax="100" style="width: 10%">
                                        <span class="sr-only">80%</span>
                                    </div>
                                </div>
                            </div>
                            <!-- end 5 -->
                            <div class="col-xs-3 col-md-3 text-right">
                                <span class="glyphicon glyphicon-star"></span>4
                            </div>
                            <div class="col-xs-8 col-md-9">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="20"
                                        aria-valuemin="0" aria-valuemax="100" style="width: 20%">
                                        <span class="sr-only">60%</span>
                                    </div>
                                </div>
                            </div>
                            <!-- end 4 -->
                            <div class="col-xs-3 col-md-3 text-right">
                                <span class="glyphicon glyphicon-star"></span>3
                            </div>
                            <div class="col-xs-8 col-md-9">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-info" role="progressbar" aria-valuenow="20"
                                        aria-valuemin="0" aria-valuemax="100" style="width: 10%">
                                        <span class="sr-only">40%</span>
                                    </div>
                                </div>
                            </div>
                            <!-- end 3 -->
                            <div class="col-xs-3 col-md-3 text-right">
                                <span class="glyphicon glyphicon-star"></span>2
                            </div>
                            <div class="col-xs-8 col-md-9">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-warning" role="progressbar" aria-valuenow="20"
                                        aria-valuemin="0" aria-valuemax="100" style="width: 10%">
                                        <span class="sr-only">20%</span>
                                    </div>
                                </div>
                            </div>
                            <!-- end 2 -->
                            <div class="col-xs-3 col-md-3 text-right">
                                <span class="glyphicon glyphicon-star"></span>1
                            </div>
                            <div class="col-xs-8 col-md-9">
                                <div class="progress">
                                    <div class="progress-bar progress-bar-danger" role="progressbar" aria-valuenow="80"
                                        aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                                        <span class="sr-only">15%</span>
                                    </div>
                                </div>
                            </div>
                            <!-- end 1 -->
                        </div>
                        <!-- end row -->
                    </div>
                     </div>
            </div>
        </div>
    </div>
</div>




{% endblock %}